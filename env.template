# =============================================================================
# ΓΕΩΤΕΕ CHATBOT - ENVIRONMENT VARIABLES
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to git!

# -----------------------------------------------------------------------------
# GENERAL SETTINGS
# -----------------------------------------------------------------------------
PROJECT_NAME=geotee-chatbot
DOMAIN=ai-geotee.cloud
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-this-value

# Generate with: openssl rand -hex 32
RASA_TOKEN=your-rasa-token-here-change-this-value

# -----------------------------------------------------------------------------
# RASA CONFIGURATION
# -----------------------------------------------------------------------------
RASA_SERVER_URL=http://rasa:5005
RASA_ACTION_SERVER_URL=http://rasa-actions:5055
RASA_MODEL_PATH=/app/models
RASA_CORS_ORIGINS=*

# -----------------------------------------------------------------------------
# POSTGRESQL DATABASE
# -----------------------------------------------------------------------------
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=geotee_chatbot
POSTGRES_USER=geotee_user
POSTGRES_PASSWORD=your-strong-postgres-password-here

# Connection string for Rasa tracker store
DB_CONNECTION_STRING=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# -----------------------------------------------------------------------------
# REDIS CONFIGURATION
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis connection string
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# -----------------------------------------------------------------------------
# QDRANT VECTOR DATABASE
# -----------------------------------------------------------------------------
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334
QDRANT_COLLECTION_NAME=geotee_kb
QDRANT_VECTOR_SIZE=384
QDRANT_DISTANCE=Cosine

# Qdrant API URL
QDRANT_URL=http://${QDRANT_HOST}:${QDRANT_PORT}

# -----------------------------------------------------------------------------
# EMBEDDINGS MODEL
# -----------------------------------------------------------------------------
# Using sentence-transformers for local embeddings (no API costs)
EMBEDDINGS_MODEL=paraphrase-multilingual-MiniLM-L12-v2
EMBEDDINGS_CACHE_DIR=/app/models/embeddings

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
MAX_QUERIES_PER_SESSION=10
SESSION_TIMEOUT_MINUTES=60
RATE_LIMIT_ENABLED=true

# -----------------------------------------------------------------------------
# ANALYTICS
# -----------------------------------------------------------------------------
ANALYTICS_API_HOST=0.0.0.0
ANALYTICS_API_PORT=8000
ANALYTICS_ENABLED=true

# Basic auth for analytics dashboard
ANALYTICS_USERNAME=admin
ANALYTICS_PASSWORD=your-analytics-password-here

# -----------------------------------------------------------------------------
# MATOMO (OPTIONAL WEB ANALYTICS)
# -----------------------------------------------------------------------------
MATOMO_ENABLED=false
MATOMO_URL=https://${DOMAIN}/matomo
MATOMO_SITE_ID=1

# -----------------------------------------------------------------------------
# SCRAPER SETTINGS
# -----------------------------------------------------------------------------
SCRAPER_START_URL=https://www.geotee.gr
SCRAPER_ALLOWED_DOMAINS=geotee.gr,www.geotee.gr
SCRAPER_MAX_DEPTH=3
SCRAPER_DELAY=1
SCRAPER_USER_AGENT=GEOTEE-Bot/1.0

# -----------------------------------------------------------------------------
# NGINX / SSL
# -----------------------------------------------------------------------------
SSL_CERT_PATH=/etc/nginx/ssl/fullchain.pem
SSL_KEY_PATH=/etc/nginx/ssl/privkey.pem
NGINX_CLIENT_MAX_BODY_SIZE=10M

# -----------------------------------------------------------------------------
# BACKUP SETTINGS
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_DIR=/opt/geotee-chatbot/backups
BACKUP_RETENTION_DAYS=30
BACKUP_TIME=02:00

# -----------------------------------------------------------------------------
# LOGGING
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_DIR=/opt/geotee-chatbot/logs
RASA_LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# LLM INTEGRATION (PHASE 2 - CURRENTLY DISABLED)
# -----------------------------------------------------------------------------
LLM_ENABLED=false
# OPENAI_API_KEY=sk-your-openai-key-here
# OPENAI_MODEL=gpt-4
# LLM_TEMPERATURE=0.7
# LLM_MAX_TOKENS=500

# -----------------------------------------------------------------------------
# FEATURE FLAGS
# -----------------------------------------------------------------------------
ENABLE_TERMS_OF_SERVICE=true
ENABLE_GREEK_ONLY_MODE=true
ENABLE_URL_LINKS=true
ENABLE_FEEDBACK=true

# -----------------------------------------------------------------------------
# DOCKER SETTINGS
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=geotee
DOCKER_RESTART_POLICY=unless-stopped

# -----------------------------------------------------------------------------
# MONITORING
# -----------------------------------------------------------------------------
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# -----------------------------------------------------------------------------
# CONTACT INFO
# -----------------------------------------------------------------------------
SUPPORT_EMAIL=support@geotee.gr
ADMIN_EMAIL=admin@geotee.gr

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
